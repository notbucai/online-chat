(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{220:function(t,e,n){n(221),t.exports=n(510)},423:function(t,e,n){"use strict";var s=n(95);n.n(s).a},428:function(t,e,n){t.exports=n.p+"img/src/assets/img/g.jpeg"},429:function(t,e,n){"use strict";var s=n(96);n.n(s).a},430:function(t,e,n){"use strict";var s=n(97);n.n(s).a},431:function(t,e,n){"use strict";var s=n(98);n.n(s).a},432:function(t,e,n){"use strict";var s=n(99);n.n(s).a},485:function(t,e,n){},506:function(t,e){},510:function(t,e,n){"use strict";n.r(e);var s=n(5),a=n.n(s),r={name:"Main",data:function(){return{}}},i=(n(423),n(37)),o=Object(i.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"main"}},[e("router-view")],1)},[],!1,null,"368af9ea",null).exports,c=n(148),l=n(147),u=n.n(l),m=n(212),d=n.n(m),f=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"msg-avatar"},[e("img",{attrs:{src:n(428),alt:"头像"}})])}],p={name:"MsgItem",props:{message:String,name:String,isme:Boolean}},h=(n(429),Object(i.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"msg-item",class:{current:t.isme}},[t._m(0),t._v(" "),n("div",{staticClass:"msg-main"},[n("div",{staticClass:"msg-name"},[t._v(t._s(t.name))]),t._v(" "),n("pre",{staticClass:"msg-content"},[t._v(t._s(t.message))])])])},f,!1,null,"02dadc59",null).exports),v={data:function(){return{form:{content:""}}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$emit("send",e.form.content),e.form.content=""})}}},g=(n(430),{name:"Index",created:function(){this.openInit(),this.$io.on("user-list",this.handleUserlist),this.$io.on("message",this.handleMessage)},components:{MsgItem:h,EditForm:Object(i.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit"},[n("el-form",{ref:"form",attrs:{model:t.form}},[n("el-form-item",{attrs:{prop:"content",rules:[{required:!0,message:"请输入内容",trigger:"blur"}]}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},maxlength:300,resize:"none",placeholder:"请输入内容"},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.onSubmit("form"):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.onSubmit("form"):null}]},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),n("el-form-item",[n("span",[t._v("快捷键 ( Ctrl+Enter )or(Command + Return)")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("发送")])],1)],1)],1)},[],!1,null,"51c47cf2",null).exports},data:function(){return{list:[],users:[],me:{id:"",name:""}}},watch:{list:{deep:!0,handler:function(t,e){var n=this;setTimeout(function(){var t=n.$refs.scrollMain;t.scrollTop=t.scrollHeight+800},0)}}},methods:{handleUserlist:function(t){this.users=d()(t)},handleMessage:function(t){this.list.push(u()({},t))},handleMe:function(t){this.me=u()({},t)},handleSendMsg:function(t){this.$io.emit("message",{message:t})},handleSendCreate:function(t){this.$io.emit("create",{name:t})},openInit:function(){var t=this;this.$prompt("请输入昵称","提示",{confirmButtonText:"确定",inputPattern:/.+/,closeOnPressEscape:!1,closeOnHashChange:!1,closeOnClickModal:!1,showCancelButton:!1,distinguishCancelAndClose:!0,showClose:!1,inputErrorMessage:"昵称不能为空"}).then(function(e){var n=e.value;t.$io.once("me",t.handleMe),t.handleSendCreate(n),t.$message({type:"success",message:"你的昵称是: "+n})})}},computed:{}}),_=(n(431),n(432),[{path:"/",component:Object(i.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"index"}},[n("el-row",[n("el-col",{attrs:{span:5}},[n("div",{staticClass:"box left"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("在线列表")])]),t._v(" "),t._l(t.users,function(e){return n("div",{key:e.id,staticClass:"text user_item"},[t._v(t._s(e.name))])})],2)],1)]),t._v(" "),n("el-col",{attrs:{span:19}},[n("div",{staticClass:"box right"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("聊天记录")])]),t._v(" "),[n("div",{ref:"scrollMain",staticClass:"main"},[t._l(t.list,function(e){return[n("msg-item",t._b({key:e.id,attrs:{isme:e.u_id==t.me.id}},"msg-item",e,!1))]})],2),t._v(" "),n("edit-form",{on:{send:t.handleSendMsg}})]],2)],1)])],1)],1)},[],!1,null,"67d4d471",null).exports,name:"index"}]);a.a.use(c.a);var C=new c.a({mode:"history",routes:_}),x=(n(435),n(31),n(213)),y=n.n(x),$=(n(438),n(72)),b=n.n($),k=(n(446),n(214)),w=n.n(k),M=(n(447),n(215)),E=n.n(M),O=(n(448),n(216)),S=n.n(O),j=(n(449),n(217)),I=n.n(j),B=(n(482),n(218)),R=n.n(B),T=(n(483),n(145)),z=n.n(T),H=(n(484),n(146)),J=n.n(H);a.a.use(J.a),a.a.use(z.a),a.a.use(R.a),a.a.use(I.a),a.a.use(S.a),a.a.use(E.a),a.a.use(w.a),a.a.prototype.$msgbox=b.a,a.a.prototype.$alert=b.a.alert,a.a.prototype.$confirm=b.a.confirm,a.a.prototype.$prompt=b.a.prompt,a.a.prototype.$message=y.a;n(485);var K=n(219),P=n.n(K)()("http://socket-chat.ncgame.cc/");a.a.prototype.$io=P,new a.a({render:function(t){return t(o)},router:C}).$mount("#app")},95:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[220,2,3,1]]]);